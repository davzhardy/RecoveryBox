{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/davidhardy/Coding/CodeworksCourse/Senior/Solo Project/RecoveryBox/client/containers/HomeScreen.js\";\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport HomeWelcome from \"../components/HomeWelcome\";\nimport Feeling from \"../components/Feeling\";\nimport Moods from \"../components/Moods\";\nimport Meetings from \"../components/Meetings\";\nimport SuggestionsList from \"../components/SuggestionsList\";\nimport Footer from \"../components/Footer\";\nimport InspirationalQuote from \"../components/InspirationalQuote\";\nimport ApiService from \"../ApiService\";\nimport Loader from \"../components/Loader\";\nimport { AppLoading } from 'expo';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { DateTime } from 'luxon';\nimport colors from \"../styles/colors\";\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport CalendarScreen from \"./CalendarScreen\";\nimport { MediumAppText, BoldAppText } from \"../styles/text\";\nimport ConfettiCannon from 'react-native-confetti-cannon';\n\nfunction HomeScreen(_ref) {\n  var route = _ref.route;\n  var dispatch = useDispatch();\n  useEffect(function () {\n    ApiService.getQuote().then(function (quote) {\n      return dispatch({\n        type: \"UPDATE_QUOTE\",\n        payload: quote\n      });\n    });\n    dispatch({\n      type: \"UPDATE_ROUTE\",\n      payload: route.name\n    });\n  }, []);\n  var quoteItem = useSelector(function (state) {\n    return state.dailyQuote.todaysQuote;\n  });\n  var fullHistoricalInfo = useSelector(function (state) {\n    return state.historicalData;\n  });\n  var dailyInfo = useSelector(function (state) {\n    return state.dailyInfo;\n  });\n  var todaysDate = useSelector(function (state) {\n    return state.helper.now;\n  });\n  var userId = useSelector(function (state) {\n    return state.user.id;\n  });\n\n  function clickHandler(arg) {\n    arg.date = DateTime.fromMillis(todaysDate).toUTC().startOf('day').ts;\n    createDailyData(arg);\n    dispatch({\n      type: \"UPDATE_HISTORICALDATA_WITH_DAILYINFO\",\n      payload: arg\n    });\n    dispatch({\n      type: \"UPDATE_DAY\",\n      payload: true\n    });\n    dispatch({\n      type: \"REGISTER_MODAL\",\n      payload: true\n    });\n  }\n\n  function createDailyData(dailyData) {\n    ApiService.postDailyData({\n      date: dailyData.date,\n      meetings: dailyData.meetings,\n      feeling: dailyData.feeling,\n      moods: JSON.stringify(dailyData.moods),\n      suggestions: JSON.stringify(dailyData.suggestions),\n      UserId: userId\n    });\n  }\n\n  ;\n  var registerModalVisible = useSelector(function (state) {\n    return state.helper.registerModal;\n  });\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      confetti = _useState2[0],\n      setConfetti = _useState2[1];\n\n  return !quoteItem ? React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }) : React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }, React.createElement(ScrollView, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.wrapperZero,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, React.createElement(HomeWelcome, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }), React.createElement(InspirationalQuote, {\n    quote: quoteItem[0].q,\n    author: quoteItem[0].a,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  })), React.createElement(View, {\n    style: styles.wrapperOne,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, React.createElement(Meetings, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  })), React.createElement(View, {\n    style: styles.wrapperOne,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, React.createElement(Feeling, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  })), React.createElement(View, {\n    style: styles.wrapperTwo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, React.createElement(SuggestionsList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  })), React.createElement(View, {\n    style: styles.wrapperTwo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, React.createElement(Moods, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  })), React.createElement(View, {\n    style: styles.wrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.button,\n    onPress: function onPress() {\n      return clickHandler(dailyInfo);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, React.createElement(BoldAppText, {\n    style: {\n      fontSize: 14,\n      color: colors.cosmicLatte,\n      marginBottom: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, \"REGISTER YOUR DAY\"))), React.createElement(Modal, {\n    visible: registerModalVisible,\n    animationType: \"slide\",\n    transparent: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.modalWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, React.createElement(MediumAppText, {\n    style: {\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, \"DAY REGISTERED\"), React.createElement(TouchableOpacity, {\n    style: styles.return,\n    onPress: function onPress() {\n      setConfetti(true);\n      dispatch({\n        type: \"REGISTER_MODAL\",\n        payload: false\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }, React.createElement(Image, {\n    style: styles.image,\n    source: require(\"../assets/close.png\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  })))), confetti ? React.createElement(ConfettiCannon, {\n    count: 200,\n    origin: {\n      x: -10,\n      y: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 19\n    }\n  }) : null), React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  }));\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: colors.platinum,\n    paddingBottom: 65\n  },\n  button: {\n    width: '50%',\n    height: 50,\n    borderRadius: 5,\n    marginHorizontal: 20,\n    backgroundColor: colors.orange,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: 10,\n    elevation: 10,\n    borderWidth: 2,\n    borderColor: 'white'\n  },\n  wrapperZero: {\n    flexDirection: 'column',\n    borderRadius: 5,\n    backgroundColor: 'white',\n    elevation: 1,\n    margin: 10,\n    paddingHorizontal: 10,\n    paddingVertical: 12\n  },\n  wrapperOne: {\n    flexDirection: 'row',\n    borderRadius: 5,\n    backgroundColor: 'white',\n    elevation: 1,\n    marginTop: 1,\n    marginBottom: 10,\n    marginRight: 10,\n    marginLeft: 10,\n    paddingHorizontal: 10,\n    paddingVertical: 12\n  },\n  wrapperTwo: {\n    flexDirection: 'row',\n    borderRadius: 5,\n    backgroundColor: 'white',\n    elevation: 1,\n    marginTop: 1,\n    marginBottom: 10,\n    marginRight: 10,\n    marginLeft: 10,\n    paddingHorizontal: 10,\n    paddingVertical: 12\n  },\n  wrapper: {\n    alignItems: 'center',\n    marginTop: 5\n  },\n  modalWrapper: {\n    position: 'absolute',\n    left: 90,\n    top: 300,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22,\n    height: 175,\n    width: 200,\n    backgroundColor: colors.orange,\n    opacity: 0.95,\n    elevation: 15,\n    borderRadius: 5\n  },\n  return: {\n    marginTop: 20,\n    height: 30,\n    width: 30,\n    borderRadius: 50,\n    backgroundColor: colors.blue,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  image: {\n    height: 15,\n    width: 15\n  }\n});\nexport default HomeScreen;","map":{"version":3,"sources":["/Users/davidhardy/Coding/CodeworksCourse/Senior/Solo Project/RecoveryBox/client/containers/HomeScreen.js"],"names":["React","useEffect","useState","HomeWelcome","Feeling","Moods","Meetings","SuggestionsList","Footer","InspirationalQuote","ApiService","Loader","AppLoading","useDispatch","useSelector","DateTime","colors","NavigationContainer","createBottomTabNavigator","CalendarScreen","MediumAppText","BoldAppText","ConfettiCannon","HomeScreen","route","dispatch","getQuote","then","quote","type","payload","name","quoteItem","state","dailyQuote","todaysQuote","fullHistoricalInfo","historicalData","dailyInfo","todaysDate","helper","now","userId","user","id","clickHandler","arg","date","fromMillis","toUTC","startOf","ts","createDailyData","dailyData","postDailyData","meetings","feeling","moods","JSON","stringify","suggestions","UserId","registerModalVisible","registerModal","confetti","setConfetti","styles","container","wrapperZero","q","a","wrapperOne","wrapperTwo","wrapper","button","fontSize","color","cosmicLatte","marginBottom","modalWrapper","return","image","require","x","y","StyleSheet","create","flex","backgroundColor","platinum","paddingBottom","width","height","borderRadius","marginHorizontal","orange","alignItems","justifyContent","elevation","borderWidth","borderColor","flexDirection","margin","paddingHorizontal","paddingVertical","marginTop","marginRight","marginLeft","position","left","top","opacity","blue"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { StyleSheet, View, Modal, Image, TouchableOpacity, ScrollView, TouchableHighlight } from 'react-native';\nimport HomeWelcome from '../components/HomeWelcome'\nimport Feeling from '../components/Feeling'\nimport Moods from '../components/Moods'\nimport Meetings from '../components/Meetings'\nimport SuggestionsList from '../components/SuggestionsList'\nimport Footer from '../components/Footer'\nimport InspirationalQuote from '../components/InspirationalQuote'\nimport ApiService from '../ApiService'\nimport Loader from '../components/Loader';\nimport { AppLoading } from 'expo'\nimport {useDispatch, useSelector } from \"react-redux\";\nimport {DateTime} from 'luxon';\nimport colors from '../styles/colors'\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport CalendarScreen from './CalendarScreen'\nimport { MediumAppText, BoldAppText } from '../styles/text'\nimport ConfettiCannon from 'react-native-confetti-cannon';\n\n\nfunction HomeScreen ({ route }) {\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    ApiService.getQuote()\n    .then(quote => \n      dispatch({\n        type: \"UPDATE_QUOTE\",\n        payload: quote\n      })\n    )\n    dispatch({\n      type: \"UPDATE_ROUTE\",\n      payload: route.name,\n    })\n  },[])\n  \n  const quoteItem = useSelector((state) => state.dailyQuote.todaysQuote);\n\n  const fullHistoricalInfo = useSelector((state) => state.historicalData);\n  const dailyInfo = useSelector((state) => state.dailyInfo);\n  const todaysDate = useSelector((state) => state.helper.now);\n  const userId = useSelector((state) => state.user.id);\n\n  function clickHandler (arg) {\n    arg.date = DateTime.fromMillis(todaysDate).toUTC().startOf('day').ts\n    createDailyData(arg)\n    dispatch({\n      type: \"UPDATE_HISTORICALDATA_WITH_DAILYINFO\",\n      payload: arg\n    })\n    dispatch({\n      type: \"UPDATE_DAY\",\n      payload: true\n    })\n    dispatch({\n      type: \"REGISTER_MODAL\",\n      payload: true\n    })\n  }\n\n  function createDailyData (dailyData) {\n    ApiService.postDailyData( {\n      date: dailyData.date,\n      meetings: dailyData.meetings,\n      feeling: dailyData.feeling,\n      moods: JSON.stringify(dailyData.moods),\n      suggestions: JSON.stringify(dailyData.suggestions),\n      UserId: userId,\n    })\n  };\n\n//TODO make sure the user can only submit the data once, if they try and submit twice it warns them and then it updates the existing information for that date\n\n  const registerModalVisible = useSelector((state) => state.helper.registerModal);\n\n// TODO refactor to have modal as seperate component\n\n  const [confetti, setConfetti] = useState(false)\n\n  return (\n    !quoteItem ? \n    <Loader/>\n    :\n    <View style={styles.container}>        \n      <ScrollView>\n      <View style={styles.wrapperZero}>\n        <HomeWelcome/>\n        <InspirationalQuote quote={quoteItem[0].q} author={quoteItem[0].a}/>\n      </View>\n      <View style={styles.wrapperOne}> \n        <Meetings/>\n      </View>\n      <View style={styles.wrapperOne}> \n        <Feeling/>\n      </View>\n      <View style={styles.wrapperTwo}>\n        <SuggestionsList/>\n      </View>  \n      <View style={styles.wrapperTwo}>\n        <Moods/>\n      </View>\n      <View style={styles.wrapper}>\n        <TouchableOpacity style={styles.button} onPress={() => clickHandler(dailyInfo)}>\n          <BoldAppText style={{fontSize: 14, color: colors.cosmicLatte, marginBottom:0,}}>REGISTER YOUR DAY</BoldAppText>\n        </TouchableOpacity>\n      </View>\n      <Modal visible={registerModalVisible} animationType={\"slide\"} transparent={true}>\n        <View style={styles.modalWrapper}>\n          <MediumAppText style={{color:'white'}}>\n            DAY REGISTERED\n          </MediumAppText>\n          <TouchableOpacity style={styles.return} onPress={() => {\n            setConfetti(true)\n            dispatch({\n              type: \"REGISTER_MODAL\",\n              payload: false\n            })\n          }}>\n          <Image style={styles.image} source={require('../assets/close.png')}/>\n        </TouchableOpacity>\n        </View>\n        \n      </Modal>\n      {confetti ? <ConfettiCannon count={200} origin={{ x: -10, y: 0 }} /> : null}\n      </ScrollView>\n      <Footer/>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: colors.platinum,\n    paddingBottom: 65,\n  },\n  button: {\n    width: '50%',\n    height: 50,\n    borderRadius: 5,\n    marginHorizontal: 20,\n    backgroundColor: colors.orange,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: 10,\n    elevation: 10,\n    borderWidth: 2,\n    borderColor: 'white',\n  },\n  wrapperZero: {\n    flexDirection: 'column',\n    borderRadius: 5,\n    backgroundColor: 'white',\n    elevation: 1,\n    margin: 10,\n    paddingHorizontal: 10,\n    paddingVertical: 12,\n  },\n  wrapperOne: {\n    flexDirection: 'row',\n    borderRadius: 5,\n    backgroundColor: 'white',\n    elevation: 1,\n    marginTop: 1,\n    marginBottom: 10,\n    marginRight: 10,\n    marginLeft: 10,\n    paddingHorizontal: 10,\n    paddingVertical: 12,\n  },\n  wrapperTwo: {\n    flexDirection: 'row',\n    borderRadius: 5,\n    backgroundColor: 'white',\n    elevation: 1,\n    marginTop: 1,\n    marginBottom: 10,\n    marginRight: 10,\n    marginLeft: 10,\n    paddingHorizontal: 10,\n    paddingVertical: 12,\n  },\n  wrapper: {\n    alignItems: 'center',\n    marginTop: 5,\n  },\n  modalWrapper: {\n    position: 'absolute',\n    left: 90,\n    top: 300,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22,\n    height: 175,\n    width: 200,\n    backgroundColor: colors.orange,\n    opacity: 0.95,\n    elevation: 15,\n    borderRadius: 5,\n  },\n  return: {\n    marginTop: 20,\n    height: 30,\n    width: 30,\n    borderRadius: 50,\n    backgroundColor: colors.blue,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  image: {\n    height: 15,\n    width: 15,\n  },\n\n});\n\n\n\nexport default HomeScreen;"]},"metadata":{},"sourceType":"module"}